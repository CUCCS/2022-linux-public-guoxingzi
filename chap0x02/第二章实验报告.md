# Linux第二次作业 

## 【软件包管理】在目标发行版上安装 `tmux` 和 `tshark` ；查看这 2 个软件被安装到哪些路径；卸载 `tshark` ；验证 `tshark` 卸载结果

|              | Ubuntu环境下                          | centos环境                                      |
| :----------: | :------------------------------------ | :---------------------------------------------- |
|     安装     | `sudo apt update` ,`sudo apt install` | `yum update` ,`yum -y install`                  |
| 查看安装路径 | `dpkg -L apache2-data`, `dpkg -L `    | `rpm -qa |grep  `, `rpm -ql `,`rpm -qal  |grep` |
|     卸载     | `apt-get clean`，`apt-get remove`     | `yum -y remove`                                 |
| 查看卸载结果 | `dpkg -L`                             | `rpm -ql`                                       |

**操作录屏**：[ubuntu中软件安装与查看路径](https://asciinema.org/a/ACwk72Yh2s1vmJ3uXd5evNlps)

[ubuntu中软件的卸载](https://asciinema.org/a/bAEu3bcfDi2BKmJGuBrqh4VT5)

[centos环境中软件的安装卸载查看路径](https://asciinema.org/a/Mjk8mL89P3xJ6GkDSPjRD01NW)

**遇到的问题**：在两个Linux发行的不同版本中，软件安装卸载与查看路径的语句均有所不同，参考了一些资料，链接如下：[centos系统怎么查看软件安装路径？](https://www.jb51.net/os/RedHat/359036.html)，[在Centos中yum安装和卸载软件的使用方法](https://blog.51cto.com/gzmaster/72278#:~:text=CentOS%E5%8D%B8%E8%BD%BD%E9%80%9A%E8%BF%87yum%E5%AE%89%E8%A3%85%E7%9A%84%E8%BD%AF%E4%BB%B6%20%E4%BB%A5erlang%E4%B8%BA%E4%BE%8B%EF%BC%9Arpa%20-qa%7Cgrep%20erlang%20%E4%BD%BF%E7%94%A8%EF%BC%9Ayum%20-y,remove%20erlang-%2A%20%E6%89%A9%E5%B1%95--%E6%9F%A5%E7%9C%8Byum%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%9Arpm%20-ql%20erlang-cosFileTransfer-R14B-04.3.el6.x86_64%20%E3%80%90Linux%E3%80%91CentOS7%20%E4%B8%8A%E4%BD%BF%E7%94%A8yum%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD%E8%BD%AF%E4%BB%B6%E3%80%90yum%E5%AE%89%E8%A3%85wine%E4%B8%BE%E4%BE%8B%E3%80%91)

## 【文件管理】复制以下shell

## 代码到终端运行，在目标 Linux 发行版系统中构造测试数据集，然后回答以下问题：

## 1.找到 `/tmp` 目录及其所有子目录下，文件名包含 `666` 的所有文件

|          | Ubuntu环境下  | centos环境                            |
| :------: | :-----------: | ------------------------------------- |
| 查找语句 | `find | grep` | `find / -name '*666*'`，`find | grep` |

**操作录屏**：[ubuntu在当前目录及其子目录下寻找文件名中包含某个字符串的文件](https://asciinema.org/a/FTEAk4uomlcFSYX3j3jDazVQu)

[centos环境中查找文件](https://asciinema.org/a/GE3raABtC5FhOXh8v9ONnFo4v)

**参考资料**：[查找文件名](https://blog.csdn.net/weixin_35947010/article/details/116543881?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164734994816780366549895%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=164734994816780366549895&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm_bkp-4-116543881.142^v2^pc_search_quality_down,143^v4^control&utm_term=ubuntu%E4%B8%AD%E6%9F%A5%E6%89%BE%E6%9F%90%E4%B8%80%E7%9B%AE%E5%BD%95%E5%8F%8A%E5%85%B6%E6%89%80%E6%9C%89%E5%AD%90%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%96%87%E4%BB%B6%E5%90%8D%E5%AD%97%E5%8C%85%E5%90%AB%E6%9F%90%E4%B8%AA%E5%AD%97%E7%AC%A6%E7%9A%84%E6%96%87%E4%BB%B6&spm=1018.2226.3001.4187) , [find查找](https://www.cnblogs.com/jiftle/p/9707518.html)

## 2.找到 `/tmp` 目录及其所有子目录下，文件内容包含 `666` 的所有文件

`cd /tmp && for i in $(seq 0 1024);do dir="test-$RANDOM";mkdir "$dir";echo "$RANDOM" > "$dir/$dir-$RANDOM";done`

|          |               Ubuntu环境下               | centos环境                          |
| :------: | :--------------------------------------: | ----------------------------------- |
| 查找语句 | `find | xargs grep`，`grep -r`,`grep -R` | `find . | xargs grep -ri 'content'` |

**操作录屏**：[Ubuntu根据文件内容查找](https://asciinema.org/a/atSQffXrahGDEpGPIiWBk6SRi)

**参考资料**：[查找文件内容](https://blog.csdn.net/weixin_35947010/article/details/116543881?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164734994816780366549895%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=164734994816780366549895&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm_bkp-4-116543881.142^v2^pc_search_quality_down,143^v4^control&utm_term=ubuntu%E4%B8%AD%E6%9F%A5%E6%89%BE%E6%9F%90%E4%B8%80%E7%9B%AE%E5%BD%95%E5%8F%8A%E5%85%B6%E6%89%80%E6%9C%89%E5%AD%90%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%96%87%E4%BB%B6%E5%90%8D%E5%AD%97%E5%8C%85%E5%90%AB%E6%9F%90%E4%B8%AA%E5%AD%97%E7%AC%A6%E7%9A%84%E6%96%87%E4%BB%B6&spm=1018.2226.3001.4187)

## 【文件压缩与解压缩】练习课件中 [文件压缩与解压缩](https://c4pr1c3.github.io/LinuxSysAdmin/chap0x02.md.html#/12/1) 一节所有提到的压缩与解压缩命令的使用方法

|       | Ubuntu环境下                                                 | centos环境                                               |
| :---: | :----------------------------------------------------------- | :------------------------------------------------------- |
|  zip  | **安装：**`sudo apt install zip/unzip`**压缩**：`zip 目标文件.zip 待压缩的文件.txt` **解压缩：**`unzip -O cp936 linux.zip` | **安装：**`sudo yum install zip，sudo yum install unzip` |
| gzip  | **压缩：**`gzip 待压缩的文件.txt`  **解压缩：**`gzip -d 待解压缩的文件.gz` 或者 `gunzip 待解压缩的文件.gz` | **同Ubuntu环境下完全相同**                               |
| bzip2 | **压缩：**`bzip2 -z`（强制压缩，删除原始文件），`bzip2 -k`（压缩但不删除原始文件）**解压缩**：`bzip2 -d` | **安装：**`sudo yum install bzip2`                       |
|  tar  | **创建 tar.gz 压缩存档**:`tar czf files.tar.gz files`  **创建 tar.bz2 压缩存档**:`tar cjf files.tar.bz2 files`**从 tar.gz 存档中提取**:`tar xf  files.tar` **从 tar.bz2 存档中提取**: `tar xjf  files.tar.bz2` | **同Ubuntu环境下完全相同**                               |
|  7z   | **安装：**`sudo apt-get install p7zip-full`  **创建7z存档文件：**`7z a`   **提取7z存档文件：**`7z e file.7z`   **选择存档格式**：`7z a -tzip file.zip file`  **查看存档中的文件列表:**`7z l file.7z`  **从存档文件中删除文件:**`7z d <归档文件名> <要删除的文件列表>` **要为存档文件设置密码:**`7za a -p{password_here} file.7z` | **安装：**`sudo yum install p7zip p7zip-plugins`         |
|  rar  | **安装:**`sudo apt-get install unrar,sudo apt-get install rar`  **创建一个 RAR 文件:**`rar a ArchiveName File_1`  **解压缩：**`unrar x FileName.rar` | **安装：**`yum install unar` **解压缩：**`unar file.rar` |

**操作录屏：**[**centos环境中练习zip,gzip,bzip2,tar,7z,rar**](https://asciinema.org/a/cEredzJbIvLdkqLigS6B6UrnV)

[使用unzip来解压缩文件](https://asciinema.org/a/N81evxyiL7zgBRpGfUqkAPqN9)

[使用gzip来压缩与解压缩文件](https://asciinema.org/a/vuslHWsYEk28FfTgxheDUxc34)-----**资料来源：**[gzip](https://www.howtoforge.com/linux-gzip-command/#q-how-to-compress-file-using-gzip)

[使用bzip2来压缩与解压缩文件](https://asciinema.org/a/JsxOEqc3uqEGoh2ppjoof8UdH)-----**资料来源：**[bzip2](https://www.geeksforgeeks.org/bzip2-command-in-linux-with-examples/)

[使用zip来压缩与解压缩文件](https://asciinema.org/a/XY9LQ2XS7Zk8y4ugyyLOwoNfF)-----**资料来源：**[zip](https://linuxize.com/post/how-to-zip-files-and-directories-in-linux/#:~:text=In%20most%20Linux%20distributions%2C%20the%20zip%20utility%20also,to%209.%20The%20default%20compression%20level%20is%20-6.)

[tar命令的练习](https://asciinema.org/a/y8hzGDpPnefoOuCqa5iGjTEpY)-----**资料来源：**[tar](https://phoenixnap.com/kb/tar-command-in-linux)

[7z命令练习](https://asciinema.org/a/RQEMrugIBJXXdyB6QESTuJbuP)-----**资料来源：**[7z](https://www.tecmint.com/7zip-command-examples-in-linux/)

[rar命令的练习](https://asciinema.org/a/CsrV7d5ZFvKeXex7PSrt4HAQB)-----**资料来源：**[rar](https://itsfoss.com/use-rar-ubuntu-linux/)

## 【跟练】 [子进程管理实验](https://asciinema.org/a/f3ux5ogwbxwo2q0wxxd0hmn54)

[ubuntu 中子进程管理实验跟练2](https://asciinema.org/a/bmTzjCYPV7J8vChMnZm2urrdJ)

[ubuntu 中子进程管理实验跟练1](https://asciinema.org/a/VF3OXK2Er8kQWsDE7V7P8KzvT)

[centos环境中练习子进程管理实验](https://asciinema.org/a/LYaQ8MmNRDis57K1AEp7O6hsl)

**遇到的问题：**在`ping`过后，程序在后台（bg）运行，源源不断地输出信息，无法停止。我按下 `crtl C`没有用，按下 `ip a` 也没有用。所以直接把视频分成了两段。结束录屏之后，我再去尝试了一遍，通过资料的查找了解到，这个时候只要用`kill`加进程编号（使用`ps aux | grep ping`去获取进程编号）把进程给`kill`掉，然后回车，发现`terminated`，即后台程序就被终结掉了。

## 【硬件信息获取】目标系统的 CPU、内存大小、硬盘数量与硬盘容量

|                     |                         Ubuntu环境下                         |               centos环境                |
| :-----------------: | :----------------------------------------------------------: | :-------------------------------------: |
|      CPU 型号       | `grep "model name" /proc/cpuinfo |awk -F ':' '{print $NF}'`  |                 `lscpu`                 |
|    每个CPU的核数    |    `lscpu |grep "Core(s) per socket" |awk '{print $NF}'`     |                 `lscpu`                 |
| 查看CPU内存使用情况 |                            `top`                             |                 `lscpu`                 |
|   硬盘数量、大小    |             `sudo fdisk -l |grep "Disk /dev/sd"`             |                 `df -h`                 |
|      硬盘型号       |           `sudo hdparm -i /dev/sda |grep "Model"`            |               `fdisk -l`                |
|      硬盘容量       | **du -s -h + 路径**  ：`du -s -h ~/  #查看home目录下占用总量`， `du -s -h ~/data/ #查看~/data/目录下`，`du -s -h * #查看当前文件夹中，所有子文件夹占用量` | `du -s -h ~/` ，`du -sh`，`du /etc -sh` |
|  查看内存使用情况   |                          `free -m`                           |               `free  -m`                |

**操作录屏：**

[**Ubuntu中硬件信息获取**](https://asciinema.org/a/Pczc7D80Qp66SkHa3T7sBSEAG)-----**资料来源：**[CPU与硬盘数量，型号](https://blog.csdn.net/osummertime/article/details/83065370?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1.pc_relevant_aa&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1.pc_relevant_aa&utm_relevant_index=2)  ，[系统内存大小与CPU内存使用情况](https://blog.csdn.net/HelloJinYe/article/details/103222695) ， [硬盘容量](https://blog.csdn.net/mathlxj/article/details/106062385?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2.pc_relevant_antiscanv2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2.pc_relevant_antiscanv2&utm_relevant_index=5)

[**centos环境中硬件信息获取**](https://asciinema.org/a/4bMRFf0SDKjfcYif0AeVZRvDk)-----**资料来源：**[centos环境中查看硬盘大小](https://www.yisu.com/ask/6168.html#:~:text=centos%E4%B8%AD%E6%9F%A5%E7%9C%8B%E7%A1%AC%E7%9B%98%E5%A4%A7%E5%B0%8F%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9A1%E3%80%81%E6%89%93%E5%BC%80centos%E7%BB%88%E7%AB%AF%EF%BC%9B2%E3%80%81%E5%9C%A8centos%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E8%BE%93%E5%85%A5%E2%80%9Cdf%20-h%E2%80%9D%E5%91%BD%E4%BB%A4%E6%9F%A5%E7%9C%8B%E7%A1%AC%E7%9B%98%E5%A4%A7%E5%B0%8F%E5%8D%B3%E5%8F%AF%E3%80%82,%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%EF%BC%9A%201%E3%80%81%E5%9C%A8centos%E7%B3%BB%E7%BB%9F%E6%A1%8C%E9%9D%A2%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE%E3%80%90Ctrl%2BAlt%2BT%E3%80%91%E6%89%93%E5%BC%80%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F%E3%80%82%202%E3%80%81%E5%9C%A8centos%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E8%BE%93%E5%85%A5%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E6%9F%A5%E7%9C%8B%E7%A1%AC%E7%9B%98%E5%A4%A7%E5%B0%8F%E5%8D%B3%E5%8F%AF%E3%80%82) ， [centos环境中查看CPU与内存信息](https://www.cnblogs.com/ycyzharry/p/11940630.html) 